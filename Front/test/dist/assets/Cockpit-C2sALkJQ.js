import{a as _}from"./axios-Cm0UX6qg.js";import{b as v,c as g,d as y,e as t,f as r,h as E,w as m,s as B,g as N,k as w,a as d,r as k,o as T,J as C,L as $,K as L,_ as j,t as x,p as W,m as q,u as Y,M as Q,C as V,E as S}from"./index-DXB3kBi2.js";const J={class:"module-box"},K={style:{flex:"0 1 30%"}},U=t("br",null,null,-1),X={style:{flex:"0 1 40%"}},H={class:"d-flax"},Z={style:{flex:"0 1 30%"}},tt={__name:"CockpitTitle",setup(f){return(i,s)=>{const n=v("dv-decoration-10"),u=v("el-button"),o=v("dv-decoration8"),c=v("dv-decoration-11"),a=v("dv-decoration-8");return g(),y("div",J,[t("div",K,[r(n,{style:{height:"5px"}}),U,E("     "),r(u,{color:"#000",onClick:s[0]||(s[0]=e=>B(N).push({path:"/home/1",params:{id:1}}))},{default:m(()=>[E("返回")]),_:1})]),t("div",X,[t("div",H,[r(o,{style:{height:"50px",flex:"1"}}),r(c,{style:{width:"200px",height:"60px",color:"greenyellow","font-weight":"bold"}},{default:m(()=>[E("车辆评价系统数据中心 ")]),_:1}),r(a,{reverse:!0,style:{height:"50px",flex:"1"}})])]),t("div",Z,[r(n,{style:{height:"5px",transform:"rotateY(180deg)"}})])])}}},et=t("div",{id:"myChart01",style:{width:"100%",height:"400px"}},null,-1),ot=[et],at={__name:"EchartsPieChart01",setup(f){const i=w(),s=d(),n=k({option:{title:{text:"评价信息1占比图",left:"center",top:"top",textStyle:{color:"#2693e0",fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"item"},legend:{top:"5%",left:"center",textStyle:{color:"#ccc"}},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:s}]}}),u=()=>{C(document.getElementById("myChart01")).setOption(n.option)};return T(()=>{_.post("/api/GetAllNumberOfOccurrencesOfEvaluation1",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("axios.post(/api/GetAllNumberOfOccurrencesOfEvaluation1,{},{  ==>"),console.log(o),console.log(o.data.data),s.value=o.data.data,u()})}),(o,c)=>(g(),y("div",null,ot))}},st=t("div",{id:"myChart02",style:{width:"100%",height:"400px"}},null,-1),nt=[st],lt={__name:"EchartsPieChart02",setup(f){const i=w(),s=d(),n=k({option:{title:{text:"评价信息2占比图",left:"center",top:"top",textStyle:{color:"#2693e0",fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",textStyle:{color:"#ccc"}},series:[{type:"pie",radius:"70%",data:s,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}),u=()=>{C(document.getElementById("myChart02")).setOption(n.option)};return T(()=>{_.post("/api/GetAllNumberOfOccurrencesOfEvaluation2",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("axios.post(/api/GetAllNumberOfOccurrencesOfEvaluation2,{},{  ==>"),console.log(o),console.log(o.data.data),s.value=o.data.data,u()})}),(o,c)=>(g(),y("div",null,nt))}},it={style:{flex:"0 1 50%"}},ct={key:0},rt=t("br",null,null,-1),dt={key:1,style:{color:"#fff",width:"100%",height:"400px"}},ut=t("div",{class:"tc box-middle parent-element",style:{"text-align":"center"}}," No Data ",-1),_t=[ut],ht={__name:"MiddleRankingTable",setup(f){const i=w(),s=d([]),n={data:[],unit:"条"},u=()=>{_.post("/api/GetAllDriverRanking",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("GetAllDriverRanking ==>"),console.log("打印出返回的json ==>  "),console.log(o),console.log("list  ==>"),console.log(o.data.data),s.value=o.data.data,console.log("scrollranking.value  ==>"),console.log(s.value);function c(){n.data=s.value.map(a=>({...a}))}c()})};return T(()=>{u()}),(o,c)=>{const a=v("dv-scroll-ranking-board"),e=v("dv-border-box-11");return g(),y("div",it,[r(e,{style:{width:"100%",height:"400px"},title:"全部评价数排名"},{default:m(()=>[s.value.length>0?(g(),y("div",ct,[rt,r(a,{config:n,style:{width:"95%",height:"325px"},class:"Ranking-margin"})])):(g(),y("div",dt,_t))]),_:1})])}}},pt=t("div",{id:"myChart03",style:{width:"100%",height:"400px"}},null,-1),ft=[pt],mt={__name:"EchartsLineChart",setup(f){const i=w(),s=d(),n=d(),u=k({option:{title:{text:"评价记录每月提交情况",left:"center",top:"top",textStyle:{color:"#2693e0",fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},toolbox:{show:!0,feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:s},yAxis:{type:"value",axisLabel:{formatter:"{value} 条"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:19,color:"green"},{gt:19,color:"green"}]},series:[{name:"当月条数",type:"line",smooth:!0,data:n,markArea:{itemStyle:{color:"rgba(255, 173, 177, 0.4)"}}}]}}),o=()=>{C(document.getElementById("myChart03")).setOption(u.option)};return T(()=>{_.post("/api/MonthlySubmissionTimes",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(c=>{console.log("axios.post(/api/MonthlySubmissionTimes,{},{  ==>"),console.log(c),console.log(c.data.data);const a=c.data.data;console.log("1拿到的后端返回数据resdata ==>"),console.log(a),s.value=a.map(e=>e.name),n.value=a.map(e=>e.value),console.log("datatime =>"),console.log(s),console.log("datavalue =>"),console.log(n),o()})}),(c,a)=>(g(),y("div",null,ft))}},vt=t("div",{id:"myChart05",style:{width:"100%",height:"400px"}},null,-1),gt=[vt],yt={__name:"EchatrsBarChart",setup(f){const i=w(),s=d(),n=d(),u=k({option:{title:{text:"近七天提交情况图",left:"center",top:"top",textStyle:{color:"#2693e0",fontSize:18,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b} : {c}"},xAxis:{type:"category",data:s},yAxis:{type:"value",axisLabel:{formatter:"{value} 条"}},series:[{data:n,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},itemStyle:{color:new $(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new $(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}}}]}}),o=()=>{C(document.getElementById("myChart05")).setOption(u.option)};return T(()=>{_.post("/api/TotalDataInThePastWeek",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(c=>{console.log("axios.post(/api/TotalDataInThePastWeek,{},{  ==>"),console.log(c),console.log(c.data.data);const a=c.data.data;s.value=a.map(e=>e.name),n.value=a.map(e=>e.value),o()})}),(c,a)=>(g(),y("div",null,gt))}},xt=t("div",{id:"myChart08",style:{width:"100%",height:"400px"}},null,-1),bt=[xt],wt={__name:"EchartsCalendarChart",setup(f){const i=w(),s=d(0),n=d(),u=k([]),o=k({option:{tooltip:{position:"top",formatter:function(e){return e.value[0]+" 评价数: "+e.value[1]}},title:{text:"上月评价数",left:"center",top:"top",textStyle:{color:"#2693e0",fontSize:18,fontWeight:"bold"}},visualMap:{min:0,max:s,inRange:{color:["#e0ffff","#006edd"]},orient:"horizontal",left:"center",bottom:20,textStyle:{color:"#ffffff"}},calendar:{orient:"vertical",yearLabel:{show:!1,margin:40},dayLabel:{firstDay:1,nameMap:["周日","周一","周二","周三","周四","周五","周六"],color:"#ffffff"},monthLabel:{nameMap:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],margin:20,color:"#ffffff"},cellSize:40,range:c()},series:{type:"heatmap",coordinateSystem:"calendar",data:u}}});function c(){const e=new Date;e.setDate(1),e.setMonth(e.getMonth()-1);const h=e.getFullYear(),p=(e.getMonth()+1).toString().padStart(2,"0");return`${h}-${p}`}const a=()=>{C(document.getElementById("myChart08")).setOption(o.option)};return T(()=>{console.log("上个月的时间格式：",c()),_.post("/api/QueryTheMaximumNumberOfReviewsWithinACertainDayOfThePreviousMonth",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log('axios.post("/api/QueryTheTotalTNumberOfDailyReviewsForThePreviousMonth", {}, {'),console.log(e),console.log(e.data.data),s.value=e.data.data}),_.post("/api/QueryTheTotalTNumberOfDailyReviewsForThePreviousMonth",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log('axios.post("/api/QueryTheTotalTNumberOfDailyReviewsForThePreviousMonth", {}, {'),console.log(e),console.log(e.data.data),n.value=e.data.data,console.log("resdata.value =>"),console.log(n.value);const h=n.value.map(p=>[p.username,parseInt(p.password1,10)]);console.log("tuplesArray.value =>"),console.log(h);for(let p=0;p<n.value.length;p++)u.push([L(h[p][0],"{yyyy}-{MM}-{dd}",!1),h[p][1]]);a()})}),(e,h)=>(g(),y("div",null,bt))}},b=f=>(W("data-v-f6a5f8c5"),f=f(),q(),f),Tt={class:"module-box"},kt={style:{flex:"0 1 100%"}},Ct={style:{width:"100%",height:"200px"}},Ot={style:{padding:"10px"}},Et={class:"card_data_div"},Nt=b(()=>t("span",{class:"card_title"},"全部司机数:        ",-1)),$t={class:"card_data"},St={style:{padding:"10px"}},At={class:"card_data_div"},Mt=b(()=>t("span",{class:"card_title"},"今日被评价司机数:        ",-1)),Dt={class:"card_data"},zt={style:{padding:"10px"}},Ft={class:"card_data_div"},It=b(()=>t("span",{class:"card_title"},"本月被评价司机数:        ",-1)),Gt={class:"card_data"},Pt={style:{padding:"10px"}},Rt={class:"card_data_div"},Bt=b(()=>t("span",{class:"card_title"},"全部评价数:        ",-1)),Lt={class:"card_data"},jt={style:{padding:"10px"}},Wt={class:"card_data_div"},qt=b(()=>t("span",{class:"card_title"},"今日提交评价数:        ",-1)),Yt={class:"card_data"},Qt={style:{padding:"10px"}},Vt={class:"card_data_div"},Jt=b(()=>t("span",{class:"card_title"}," 本月提交评价数:        ",-1)),Kt={class:"card_data"},Ut={style:{padding:"10px"}},Xt={class:"card_data_div"},Ht=b(()=>t("span",{class:"card_title"},"本年评价总数:        ",-1)),Zt={class:"card_data"},te={style:{padding:"10px"}},ee={class:"card_data_div"},oe=b(()=>t("span",{class:"card_title"},"过去7天评价总数:        ",-1)),ae={class:"card_data"},se={style:{padding:"10px"}},ne={class:"card_data_div"},le=b(()=>t("span",{class:"card_title"},"过去一个月评价总数:        ",-1)),ie={class:"card_data"},ce={__name:"TextMessagesPage",setup(f){const i=w(),s=d(),n=d(),u=d(),o=d(),c=d(),a=d(),e=d(),h=d(),p=d(),O=()=>{console.log("TotalNumberOfReviewsInThePast7Days ==>  "),_.post("/api/TotalNumberOfReviewsInThePast7Days",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),h.value=l.data.data})},A=()=>{console.log("11111111111TotalNumberOfEvaluationsThisYear ==>  "),_.post("/api/TotalNumberOfEvaluationsInThePastMonth",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),p.value=l.data.data})},M=()=>{console.log("11111111111TotalNumberOfEvaluationsThisYear ==>  "),_.post("/api/TotalNumberOfEvaluationsThisYear",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),e.value=l.data.data})},D=()=>{console.log("11111111111GatAllDrivers ==>  "),_.post("/api/NumberOfEvaluationsSubmittedInTheCurrentMonth",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),a.value=l.data.data})},z=()=>{console.log("11111111111GatAllDrivers ==>  "),_.post("/api/NumberOfEvaluatedDriversThisMonth",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),u.value=l.data.data})},F=()=>{console.log("11111111111GatAllDrivers ==>  "),_.post("/api/GetAlldrivernameNum",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),s.value=l.data.data})},I=()=>{console.log("NumberOfDriversEvaluatedTodayss ==>  "),_.post("/api/NumberOfDriversEvaluatedTodayss",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),n.value=l.data.data})},G=()=>{_.post("/api/NumberOfDriversEvaluatedToday",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{c.value=l.data.data})},P=()=>{console.log("GatTotalNumberOfEvaluations ==>  "),_.post("/api/GetAllEvaluationNum",{},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("11111111打印出返回的json ==>  "),console.log(l),o.value=l.data.data})};return T(()=>{F(),I(),G(),P(),z(),D(),M(),A(),O()}),(l,ye)=>{const R=v("dv-border-box-8");return g(),y("div",Tt,[t("div",kt,[r(R,{style:{width:"100%",height:"200px"}},{default:m(()=>[t("table",Ct,[t("tr",null,[t("td",Ot,[t("div",Et,[Nt,t("span",$t,x(s.value),1)])]),t("td",St,[t("div",At,[Mt,t("span",Dt,x(n.value),1)])]),t("td",zt,[t("div",Ft,[It,t("span",Gt,x(u.value),1)])])]),t("tr",null,[t("td",Pt,[t("div",Rt,[Bt,t("span",Lt,x(o.value),1)])]),t("td",jt,[t("div",Wt,[qt,t("span",Yt,x(c.value),1)])]),t("td",Qt,[t("div",Vt,[Jt,t("span",Kt,x(a.value),1)])])]),t("tr",null,[t("td",Ut,[t("div",Xt,[Ht,t("span",Zt,x(e.value),1)])]),t("td",te,[t("div",ee,[oe,t("span",ae,x(h.value),1)])]),t("td",se,[t("div",ne,[le,t("span",ie,x(p.value),1)])])])])]),_:1})])])}}},re=j(ce,[["__scopeId","data-v-f6a5f8c5"]]),de={class:"background-black"},ue={style:{"background-color":"black"}},_e={class:"module-box"},he={style:{flex:"0 1 50%"}},pe={class:"module-box"},fe={style:{flex:"0 1 25%"}},me={style:{flex:"0 1 25%"}},ve={style:{flex:"0 1 25%"}},ge={style:{flex:"0 1 25%"}},we={__name:"Cockpit",setup(f){const i=Y();console.log("route.path  = "),console.log(i.path);const s=w(),n=a=>{a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},u=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},o=d(!1);return T(()=>{o.value||(n(document.documentElement),o.value=!0)}),Q(()=>{o.value&&(u(),o.value=!1)}),V(()=>{s.token===""&&(console.log("onMounted ========   if (Tokenstore.token === ''){   ===========> "),S.error("登录信息已失效，请重新登录"),N.push("/Login/welcome_login")),_.post("/api/VerifyToken",{token:s.token},{headers:{Authorization:s.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(a=>{console.log("打印出返回的json ==>  "),console.log(a),a.data.code===0?console.log("token有效"):(s.removeToken(),S.error("登录信息已过期，请重新登录"),N.push("/Login/welcome_login"),console.log("token无效"))})}),d(30).value,(a,e)=>{const h=v("dv-border-box-8"),p=v("dv-border-box-10"),O=v("dv-full-screen-container");return g(),y("div",de,[r(O,{class:"background-black"},{default:m(()=>[t("div",ue,[r(p,null,{default:m(()=>[r(tt),t("div",_e,[r(ht),t("div",he,[r(h,{style:{width:"100%",height:"400px"}},{default:m(()=>[r(mt)]),_:1})])]),t("div",pe,[t("div",fe,[r(h,{style:{width:"100%",height:"400px"}},{default:m(()=>[r(at)]),_:1})]),t("div",me,[r(h,{style:{width:"100%",height:"400px"}},{default:m(()=>[r(lt)]),_:1})]),t("div",ve,[r(h,{style:{width:"100%",height:"400px"}},{default:m(()=>[r(yt)]),_:1})]),t("div",ge,[r(h,{style:{width:"100%",height:"400px"}},{default:m(()=>[r(wt)]),_:1})])]),r(re)]),_:1})])]),_:1})])}}};export{we as default};
