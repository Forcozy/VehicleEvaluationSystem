import{a as p}from"./axios-Cm0UX6qg.js";import{_ as G,k as O,a as c,B as Y,C as V,u as H,o as q,b as m,c as J,d as K,e as n,t as v,s as P,f as u,w as i,F as Q,h,p as W,m as X,E as f,g as D,D as Z}from"./index-DXB3kBi2.js";import{z as ee}from"./zh-cn-BQvgwFPn.js";const w=k=>(W("data-v-158341f9"),k=k(),X(),k),oe=w(()=>n("h4",null,"index.vue",-1)),te=w(()=>n("h3",null,"分割线---函数测试",-1)),ne=w(()=>n("br",null,null,-1)),le=w(()=>n("h4",null,"set title by slot",-1)),ae={style:{flex:"auto"}},se={__name:"index",setup(k){const t=O(),M=c("zh-cn"),z=Y(()=>M.value==="zh-cn"?ee:en),r=c(""),$=[{text:"近7天",value:()=>{const o=new Date,e=new Date;return e.setDate(e.getDate()-7),[e,o]}},{text:"近一个月",value:()=>{const o=new Date,e=new Date;return e.setMonth(e.getMonth()-1),[e,o]}},{text:"近3个月",value:()=>{const o=new Date,e=new Date;return e.setMonth(e.getMonth()-3),[e,o]}},{text:"当天",value:()=>{const o=new Date,e=new Date(o.getFullYear(),o.getMonth(),o.getDate()),l=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1);return[e,l]}}];function b(o){const e=new Date(o),l=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0"),y=String(e.getHours()).padStart(2,"0"),C=String(e.getMinutes()).padStart(2,"0"),s=String(e.getSeconds()).padStart(2,"0");return`${l}-${a}-${d} ${y}:${C}:${s}`}const A=()=>{if(r.value==="")console.log("都没填情况下不允许查询"),f.error("请填写查询时间");else{const o=b(r.value[0]),e=b(r.value[1]);p.post("/api/daterange",{startDate:o,endDate:e},{headers:{Authorization:t.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(l=>{console.log("axios.post(/api/GetAllDriverData,{},{  ==>"),console.log(l)})}};V(()=>{console.log("value2.value ==>"),console.log(r.value),console.log(typeof r.value),console.log(typeof r),console.log("value2.value[0] ==>"),console.log(r.value[0]),console.log("value2.value[1] ==>"),console.log(r.value[1])});const U=c(null);H();const x=c(""),S=c(0),T=c(0),E=()=>{p.get("/api/file/download/",{headers:{Authorization:t.token},responseType:"blob"}).then(o=>{console.log("文件下载成功");const e=new Blob([o.data]),l="二维码.zip";if("download"in document.createElement("a")){const a=document.createElement("a");a.download=l,a.style.display="none",a.href=URL.createObjectURL(e),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}else navigator.msSaveBlob(e,l)}).catch(o=>{console.log("文件下载失败")})};q(()=>{console.log("当前的环境是："),console.log("production"),console.log("当前的后端访问URL是："),console.log("http://localhost:8080/")});const L=()=>{p.post("/api/GetAlldrivernameNum",{},{headers:{Authorization:t.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("打印出返回的json ==>  "),console.log(o),S.value=o.data.data})},j=()=>{p.post("/api/GetAllEvaluationNum",{},{headers:{Authorization:t.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("打印出返回的json ==>  "),console.log(o),T.value=o.data.data})},B=()=>{p.post("/api/VerifyToken",{token:t.token},{headers:{Authorization:t.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("打印出返回的json ==>  "),console.log(o),o.data.code===0?console.log("token有效"):(t.removeToken(),f.error("登录信息已失效，请重新登录"),D.push("/Login/welcome_login"),console.log("token无效"))})},N=()=>{t.removeToken()};V(()=>{t.token===""&&(console.log("onMounted ========   if (Tokenstore.token === ''){   ===========> "),f.error("登录信息已失效，请重新登录"),D.push("/Login/welcome_login")),p.post("/api/VerifyToken",{token:t.token},{headers:{Authorization:t.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("打印出返回的json ==>  "),console.log(o),o.data.code===0?console.log("token有效"):(t.removeToken(),f.error("登录信息已过期，请重新登录"),D.push("/Login/welcome_login"),console.log("token无效"))})});const g=c(!1),_=c(""),I=c("rtl");c("Option 1");function R(){g.value=!1}function F(){Z.confirm("你确认提交了吗？ ").then(()=>{console.log("   .then(() => {   "),_.value===""&&(console.log("插入的司机名不能为空"),f.error("插入的司机名不能为空")),g.value=!1}).catch(()=>{console.log("   .catch(() => {   ")})}return(o,e)=>{const l=m("el-input"),a=m("el-date-picker"),d=m("el-button"),y=m("el-drawer"),C=m("el-config-provider");return J(),K(Q,null,[oe,n("h3",null,"查看当前的Token => "+v(P(t).token),1),n("h3",null,"若有值为"+v(U.value)+",路由上的值为"+v(o.$route.params.id),1),n("button",{onClick:B},"测试当前的token是否有效"),n("button",{onClick:N},"删除客户端保存的Token"),n("button",{onClick:E},"下载文件"),u(l,{modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),style:{width:"240px"},placeholder:"请输入密码"},null,8,["modelValue"]),te,n("button",{onClick:L},"测试查询司机总数量 dirvernametotal =="+v(S.value),1),n("button",{onClick:j},"测试查询评价信息总数量 evalutiontotal =="+v(T.value),1),n("button",{onClick:e[1]||(e[1]=s=>o.$router.push({name:"Cockpit"}))},"跳转到 Cockpit 页面"),u(C,{locale:z.value},{default:i(()=>[u(a,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),type:"datetimerange",shortcuts:$,"range-separator":"到","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"]),u(d,{type:"primary",onClick:A},{default:i(()=>[h("发送时间给后端")]),_:1}),ne,u(d,{type:"primary",style:{"margin-left":"16px"},onClick:e[3]||(e[3]=s=>g.value=!0)},{default:i(()=>[h(" with footer ")]),_:1}),u(y,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=s=>g.value=s),direction:I.value},{header:i(()=>[le]),default:i(()=>[h(" 请输入要插入的司机的姓名： "),u(l,{modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=s=>_.value=s)},null,8,["modelValue"])]),footer:i(()=>[n("div",ae,[u(d,{onClick:R},{default:i(()=>[h("cancel")]),_:1}),u(d,{type:"primary",onClick:F},{default:i(()=>[h("confirm")]),_:1})])]),_:1},8,["modelValue","direction"])]),_:1},8,["locale"])],64)}}},ie=G(se,[["__scopeId","data-v-158341f9"]]);export{ie as default};
