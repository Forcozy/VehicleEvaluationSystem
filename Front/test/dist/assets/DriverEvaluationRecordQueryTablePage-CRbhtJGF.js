import{a as z}from"./axios-Cm0UX6qg.js";import{o as le}from"./options-BmT-oMWJ.js";import{z as se}from"./zh-cn-BQvgwFPn.js";import{e as ue}from"./en-HEJrwB0q.js";import{_ as re,k as ce,a,B as ie,C as de,y as pe,u as ve,o as ge,b as s,c as f,d as w,f as o,w as n,F as B,h as D,e as x,G as N,H as R,t as me,A as fe,s as _e,p as he,m as ye,i as ke}from"./index-DXB3kBi2.js";const $=_=>(he("data-v-3aca6746"),_=_(),ye(),_),be=$(()=>x("h6",null,null,-1)),Te={class:"container"},Ce={key:0},Se={class:"container"},ze={key:0},we=$(()=>x("br",null,null,-1)),De={__name:"DriverEvaluationRecordQueryTablePage",setup(_){const i=ce(),P=a("zh-cn"),V=ie(()=>P.value==="zh-cn"?se:ue);de(()=>{i.token===""&&(console.log("onMounted ========   if (Tokenstore.token === ''){   ===========> "),ElMessage.error("登录信息已失效，请重新登录"),Q.push("/Login/welcome_login")),z.post("/api/VerifyToken",{token:i.token},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("打印出返回的json ==>  "),console.log(e),e.data.code===0?console.log("token有效"):(i.removeToken(),ElMessage.error("登录信息已过期，请重新登录"),Q.push("/Login/welcome_login"),console.log("token无效"))})});const Q=pe();function L(){Q.push({path:"/home/EvaluationRankingTablePage"})}const G=a(!1),j=a(!1),H=a(!1),d=a(10),u=a(1),h=a(0),l=a(null),O=()=>{console.log("每页显示条数改变  handleSizeChange  ==>"),console.log("最新每页显示条数  pageSize =>",d.value),console.log("最新当前页码pageNum =>",u.value),g()},U=()=>{console.log("当前页码数改变  handleCurrentChange  ==>"),console.log("最新每页显示条数  pageSize =>",d.value),console.log("最新当前页码pageNum =>",u.value),g()},g=()=>{r.value?(console.log("请求条件判断器 查询今日所有评价数据  if (QueryTodaysInformation_buttonStatus){   ==>"),X()):c.value?(console.log("请求条件判断器 查询本月所有评价数据  if (QueryTodaysInformation_buttonStatus){   ==>"),Z()):(console.log("请求条件判断器 无标志位 查询全部   ==>"),W())},A=()=>{u.value=1,r.value=!1,y.value.backgroundColor="#409eff",c.value=!1,k.value.backgroundColor="#409eff"};function q(e){const t=new Date(e),m=t.getFullYear(),b=(t.getMonth()+1).toString().padStart(2,"0"),T=t.getDate().toString().padStart(2,"0"),C=t.getHours().toString().padStart(2,"0"),S=t.getMinutes().toString().padStart(2,"0"),M=t.getSeconds().toString().padStart(2,"0");return`${m}-${b}-${T} ${C}:${S}:${M}`}function E(e){switch(Number(e)){case 1:return"不及格";case 2:return"及格";case 3:return"良好";case 4:return"优秀";default:return"未知"}}const I=()=>{for(let e=0;e<l.value.length;e++)l.value[e].evaluationTime=q(l.value[e].evaluationTime),l.value[e].evaluationindicator1=E(l.value[e].evaluationindicator1),l.value[e].evaluationindicator2=E(l.value[e].evaluationindicator2)},y=a({backgroundColor:"#409eff",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"}),r=a(!1),Y=()=>{console.log("const QueryTodaysInformation_handleButtonClick = () => {    //查询今日的按钮函数    ====>");let e=r.value;A(),r.value=e.valueOf(),r.value=!r.value,r.value?y.value.backgroundColor="#67c23a":y.value.backgroundColor="#409eff",g()},k=a({backgroundColor:"#409eff",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"}),c=a(!1),J=()=>{console.log("const QueryInformationForThisMonth_handleButtonClick = () => {    //查询本月的按钮函数(1)");let e=c.value;A(),c.value=e,c.value=!c.value,c.value?k.value.backgroundColor="#67c23a":k.value.backgroundColor="#409eff",g()},F=ve(),p=a();function K(){F.params.id!=null&&(p.value=F.params.id,console.log("接收到的参数ID:",p.value))}const W=()=>{z.post("/api/QueryAllDirvernameData",{name:p.value,pageSize:d.value,pageNum:u.value},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("axios.post(/api/QueryAllDirvernameData,{},{  ==>"),console.log(e.data.data),l.value=e.data.data.items,h.value=e.data.data.total,I()})};ge(()=>{K(),console.log("onMounted ===================> "),g()});const X=()=>{z.post("/api/QueryTodayDirvernameData",{name:p.value,pageSize:d.value,pageNum:u.value},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("axios.post(/api/QueryTodayDirvernameData,{},{  ==>"),console.log(e.data.data),l.value=e.data.data.items,h.value=e.data.data.total,I()})},Z=()=>{z.post("/api/QueryThisMonthDirvernameData",{name:p.value,pageSize:d.value,pageNum:u.value},{headers:{Authorization:i.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("axios.post(/api/QueryThisMonthDirvernameData,{},{  ==>"),console.log(e.data.data),l.value=e.data.data.items,h.value=e.data.data.total,I()})};return(e,t)=>{const m=s("el-button"),b=s("Check"),T=s("el-icon"),C=s("el-col"),S=s("el-row"),M=s("el-table-column"),ee=s("el-table"),oe=s("el-pagination"),ae=s("el-config-provider"),te=s("el-card");return f(),w(B,null,[be,o(m,{type:"primary",onClick:L},{default:n(()=>[D("返回")]),_:1}),o(te,null,{default:n(()=>[o(S,{gutter:20,class:"header"},{default:n(()=>[o(C,{span:4},{default:n(()=>[x("div",Te,[o(m,{onClick:Y,style:N(y.value)},{default:n(()=>[r.value?(f(),w("div",Ce,[o(T,{class:"el-icon-check"},{default:n(()=>[o(b)]),_:1})])):R("",!0),D(" 查询今日所有评价数据 ")]),_:1},8,["style"])])]),_:1}),o(C,{span:7},{default:n(()=>[x("div",Se,[o(m,{onClick:J,style:N(k.value)},{default:n(()=>[c.value?(f(),w("div",ze,[o(T,{class:"el-icon-check"},{default:n(()=>[o(b)]),_:1})])):R("",!0),D(" 查询本月所有评价数据 ")]),_:1},8,["style"])])]),_:1})]),_:1}),o(S,{gutter:20,class:"header"},{default:n(()=>[D(" 正在查询司机："+me(p.value),1)]),_:1}),o(ee,{data:l.value,border:"",stripe:"",style:{width:"100%"}},{default:n(()=>[(f(!0),w(B,null,fe(_e(le),(v,ne)=>(f(),ke(M,{prop:v.prop,label:v.label,key:ne},null,8,["prop","label"]))),128))]),_:1},8,["data"]),we,o(ae,{locale:V.value},{default:n(()=>[o(oe,{"current-page":u.value,"onUpdate:currentPage":t[0]||(t[0]=v=>u.value=v),"page-size":d.value,"onUpdate:pageSize":t[1]||(t[1]=v=>d.value=v),"page-sizes":[10,20,30,40],small:G.value,disabled:H.value,background:j.value,layout:"total, sizes, prev, pager, next, jumper",total:h.value,onSizeChange:O,onCurrentChange:U},null,8,["current-page","page-size","small","disabled","background","total"])]),_:1},8,["locale"])]),_:1})],64)}}},Ee=re(De,[["__scopeId","data-v-3aca6746"]]);export{Ee as default};
