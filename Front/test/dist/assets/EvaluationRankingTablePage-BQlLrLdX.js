import{a as k}from"./axios-Cm0UX6qg.js";import{z as ee}from"./zh-cn-BQvgwFPn.js";import{e as oe}from"./en-HEJrwB0q.js";import{_ as ae,k as te,a,B as ne,C as le,o as se,b as n,c as p,d as b,f as o,w as t,F as B,e as y,G as D,H as F,h as N,A as re,s as T,I as ue,g as z,p as ce,m as ie,E,i as de}from"./index-DXB3kBi2.js";const pe=[{label:"司机名",prop:"name"},{label:"评价次数",prop:"value"}],G=g=>(ce("data-v-1fdd3c0a"),g=g(),ie(),g),ge=G(()=>y("h6",null,null,-1)),fe={class:"container"},ve={key:0},_e={class:"container"},me={key:0},he=G(()=>y("br",null,null,-1)),ke={__name:"EvaluationRankingTablePage",setup(g){const c=te(),M=a("zh-cn"),P=ne(()=>M.value==="zh-cn"?ee:oe),V=a(!1),L=a(!1),j=a(!1),i=a(10),l=a(1),f=a(0);le(()=>{c.token===""&&(console.log("onMounted ========   if (Tokenstore.token === ''){   ===========> "),E.error("登录信息已失效，请重新登录"),z.push("/Login/welcome_login")),k.post("/api/VerifyToken",{token:c.token},{headers:{Authorization:c.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("打印出返回的json ==>  "),console.log(e),e.data.code===0?console.log("token有效"):(c.removeToken(),E.error("登录信息已过期，请重新登录"),z.push("/Login/welcome_login"),console.log("token无效"))})});const v=a(null),U=()=>{console.log("每页显示条数改变  handleSizeChange  ==>"),console.log("最新每页显示条数  pageSize =>",i.value),console.log("最新当前页码pageNum =>",l.value),d()},q=()=>{console.log("当前页码数改变  handleCurrentChange  ==>"),console.log("最新每页显示条数  pageSize =>",i.value),console.log("最新当前页码pageNum =>",l.value),d()},d=()=>{s.value?(console.log("请求条件判断器 查询今日所有评价数据  if (QueryTodaysInformation_buttonStatus){   ==>"),J()):r.value?(console.log("请求条件判断器 查询本月所有评价数据  if (QueryTodaysInformation_buttonStatus){   ==>"),K()):(console.log("请求条件判断器 无标志位 查询全部   ==>"),$())},w=()=>{l.value=1,s.value=!1,_.value.backgroundColor="#409eff",r.value=!1,m.value.backgroundColor="#409eff"},_=a({backgroundColor:"#409eff",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"}),s=a(!1),H=()=>{console.log("const QueryTodaysInformation_handleButtonClick = () => {    //查询今日的按钮函数    ====>");let e=s.value;w(),s.value=e.valueOf(),s.value=!s.value,s.value?_.value.backgroundColor="#67c23a":_.value.backgroundColor="#409eff",d()},m=a({backgroundColor:"#409eff",color:"#fff",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"}),r=a(!1),O=()=>{console.log("const QueryInformationForThisMonth_handleButtonClick = () => {    //查询本月的按钮函数(1)");let e=r.value;w(),r.value=e,r.value=!r.value,r.value?m.value.backgroundColor="#67c23a":m.value.backgroundColor="#409eff",d()},$=()=>{k.post("/api/GetAllDriverRankingPaging",{pageSize:i.value,pageNum:l.value},{headers:{Authorization:c.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("axios.post(/api/GetAllDriverRankingPaging,{},{  ==>"),console.log(e.data.data),v.value=e.data.data.items,f.value=e.data.data.total})};se(()=>{console.log("onMounted ===================> "),d()});const J=()=>{k.post("/api/GetAllDriverRankingToday",{pageSize:i.value,pageNum:l.value},{headers:{Authorization:c.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("axios.post(/api/GetAllDriverRankingToday,{},{  ==>"),console.log(e.data.data),v.value=e.data.data.items,f.value=e.data.data.total})},K=()=>{k.post("/api/GetAllDriverRankingthismonth",{pageSize:i.value,pageNum:l.value},{headers:{Authorization:c.token,"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log("axios.post(/api/GetAllDriverRankingthismonth,{},{  ==>"),console.log(e.data.data),v.value=e.data.data.items,f.value=e.data.data.total})};return(e,h)=>{const S=n("Check"),x=n("el-icon"),C=n("el-button"),A=n("el-col"),I=n("el-row"),Q=n("el-table-column"),W=n("el-table"),X=n("el-pagination"),Y=n("el-config-provider"),Z=n("el-card");return p(),b(B,null,[ge,o(Z,null,{default:t(()=>[o(I,{gutter:20,class:"header"},{default:t(()=>[o(A,{span:4},{default:t(()=>[y("div",fe,[o(C,{onClick:H,style:D(_.value)},{default:t(()=>[s.value?(p(),b("div",ve,[o(x,{class:"el-icon-check"},{default:t(()=>[o(S)]),_:1})])):F("",!0),N(" 查询今日所有评价数据 ")]),_:1},8,["style"])])]),_:1}),o(A,{span:7},{default:t(()=>[y("div",_e,[o(C,{onClick:O,style:D(m.value)},{default:t(()=>[r.value?(p(),b("div",me,[o(x,{class:"el-icon-check"},{default:t(()=>[o(S)]),_:1})])):F("",!0),N(" 查询本月所有评价数据 ")]),_:1},8,["style"])])]),_:1})]),_:1}),o(I,{gutter:20,class:"header"}),o(W,{data:v.value,border:"",stripe:"",style:{width:"100%"}},{default:t(()=>[(p(!0),b(B,null,re(T(pe),(u,R)=>(p(),de(Q,{prop:u.prop,label:u.label,key:R},null,8,["prop","label"]))),128)),o(Q,{prop:"action",label:"操作",width:"180"},{default:t(({row:u})=>[o(C,{type:"primary",icon:T(ue),onClick:R=>T(z).push({name:"司机评价记录查询表",params:{id:u.name}})},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),he,o(Y,{locale:P.value},{default:t(()=>[o(X,{"current-page":l.value,"onUpdate:currentPage":h[0]||(h[0]=u=>l.value=u),"page-size":i.value,"onUpdate:pageSize":h[1]||(h[1]=u=>i.value=u),"page-sizes":[10,20,30,40],small:V.value,disabled:j.value,background:L.value,layout:"total, sizes, prev, pager, next, jumper",total:f.value,onSizeChange:U,onCurrentChange:q},null,8,["current-page","page-size","small","disabled","background","total"])]),_:1},8,["locale"])]),_:1})],64)}}},ze=ae(ke,[["__scopeId","data-v-1fdd3c0a"]]);export{ze as default};
