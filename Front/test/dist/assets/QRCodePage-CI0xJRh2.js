import{a as b}from"./axios-Cm0UX6qg.js";import{r as x,a as p,u as N,o as k,b as i,c as y,d as Q,e as t,t as _,f as e,w as a,F as T,g as v,h as n}from"./index-DXB3kBi2.js";import"./index-DXExZLUB.js";const I=t("h3",null,"这里是二维码页面",-1),B=t("br",null,null,-1),q={__name:"QRCodePage",setup(j){const l=x({radio1:"4",radio2:"4",phone:null}),f=p(""),C=p({phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}]}),c=p("");let d=p("");const D=N();d.value=D.path;const V=()=>{console.log("Check_if_the_driver_is_stored_in_it  检查URL给的司机的信息是否有存 => "),console.log("path = ",d);const u=d.value.replace("/QRCode/","");console.log("urlddaata = ",u),b.post("/api/getDriverName",{UUID:u},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("CompareWhetherThereIsThisDriver ==>  "),console.log("打印出返回的json ==>  "),console.log(o),console.log("res.data.message ==>  "),console.log(o.data.message),o.data.message=="查无此人"&&v.push("/NoDataQRCode"),o.data.code=="0"&&(console.log("//查找成功"),c.value=o.data.message,console.log("DriverName = ",c.value))})};k(()=>{V()});const w=()=>{console.log("path = ",d),console.log("formData.radio1 = ",l.radio1),console.log("formData.radio2 = ",l.radio2),console.log("formData.phone = ",l.phone),console.log("path = ",d);const u=d.value.replace("/QRCode/","");console.log("urlddaata = ",u),console.log("testCross2 ====post ==>"),b.post("/api/QRCodeSubmitInformation",{uuid:u,evaluationindicator1:l.radio1,evaluationindicator2:l.radio2,contactnumberofevaluator:l.phone},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(o=>{console.log("打印出返回的json ==>  "),console.log(o),o.data.message=="插入成功"&&v.push("/QRCodeThanks")})};return(u,o)=>{const r=i("el-radio-button"),g=i("el-radio-group"),m=i("el-form-item"),h=i("el-input"),U=i("el-button"),R=i("el-form");return y(),Q(T,null,[I,t("h3",null,"当前正在对司机:   "+_(c.value)+"   进行评价",1),B,e(R,{model:l,rules:C.value},{default:a(()=>[t("table",null,[t("tr",null,[e(m,{label:"评价1"},{default:a(()=>[e(g,{modelValue:l.radio1,"onUpdate:modelValue":o[0]||(o[0]=s=>l.radio1=s),size:"large"},{default:a(()=>[e(r,{label:"1"},{default:a(()=>[n(" 不及格")]),_:1}),e(r,{label:"2"},{default:a(()=>[n(" 及格")]),_:1}),e(r,{label:"3"},{default:a(()=>[n(" 良好")]),_:1}),e(r,{label:"4"},{default:a(()=>[n(" 优秀")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),t("tr",null,[e(m,{label:"评价2"},{default:a(()=>[e(g,{modelValue:l.radio2,"onUpdate:modelValue":o[1]||(o[1]=s=>l.radio2=s),size:"large"},{default:a(()=>[e(r,{label:"1"},{default:a(()=>[n(" 不及格")]),_:1}),e(r,{label:"2"},{default:a(()=>[n(" 及格")]),_:1}),e(r,{label:"3"},{default:a(()=>[n(" 良好")]),_:1}),e(r,{label:"4"},{default:a(()=>[n(" 优秀")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),t("tr",null,[e(m,{label:"手机号码",prop:"phone"},{default:a(()=>[e(h,{modelValue:l.phone,"onUpdate:modelValue":o[2]||(o[2]=s=>l.phone=s)},null,8,["modelValue"])]),_:1})]),t("tr",null,[e(m,{label:"用车单位"},{default:a(()=>[e(h,{modelValue:f.value,"onUpdate:modelValue":o[3]||(o[3]=s=>f.value=s)},null,8,["modelValue"])]),_:1})]),t("tr",null,[e(U,{type:"primary",onClick:w},{default:a(()=>[n("提交")]),_:1})])]),t("h3",null," formData.radio1 = "+_(l.radio1),1),t("h3",null," formData.radio2 = "+_(l.radio2),1),t("h3",null," formData.phone = "+_(l.phone),1)]),_:1},8,["model","rules"])],64)}}};export{q as default};
